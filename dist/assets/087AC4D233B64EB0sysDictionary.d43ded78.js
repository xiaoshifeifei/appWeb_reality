/*! 
 Build based on gin-vue-admin 
 Time : 1725432472000 */
import{a as e,ad as a,o as t,c as l,d as s,b as r,w as i,g as o,O as u,P as n,n as d,t as c,a3 as m,G as p,dx as B,au as D,j as v,E as y,J as C,l as j}from"./087AC4D233B64EB0index.70d09b05.js";/* empty css                               *//* empty css                                */import{a as E,E as f}from"./087AC4D233B64EB0form-item.cbb99123.js";import{E as x}from"./087AC4D233B64EB0switch.4d3b2bd4.js";/* empty css                              *//* empty css                                  *//* empty css                               */import{g as A,f as b,d as g,c as w,u as h}from"./087AC4D233B64EB0sysDictionary.41ff4d77.js";import{_ as k}from"./087AC4D233B64EB0warningBar.fba111b1.js";import _ from"./087AC4D233B64EB0sysDictionaryDetail.33e9f77c.js";import{E as V}from"./087AC4D233B64EB0index.86c76e0e.js";import{E as I}from"./087AC4D233B64EB0index.cf7c943f.js";import"./087AC4D233B64EB0castArray.0e034210.js";import"./087AC4D233B64EB0_baseClone.a58dc1a4.js";import"./087AC4D233B64EB0_Uint8Array.b8c6af2c.js";import"./087AC4D233B64EB0_initCloneObject.073b420a.js";import"./087AC4D233B64EB0input-number.525084f9.js";import"./087AC4D233B64EB0index.9bcf7e3e.js";/* empty css                                   *//* empty css                            *//* empty css                               *//* empty css                               */import"./087AC4D233B64EB0table-column.87522e19.js";import"./087AC4D233B64EB0index.c39333f3.js";import"./087AC4D233B64EB0index.a54c8ec8.js";import"./087AC4D233B64EB0_baseIteratee.bc07217d.js";import"./087AC4D233B64EB0isEqual.754d772a.js";import"./087AC4D233B64EB0debounce.034956aa.js";import"./087AC4D233B64EB0checkbox.946614c0.js";import"./087AC4D233B64EB0index.0adebf5a.js";/* empty css                                */import"./087AC4D233B64EB0index.7d3772ac.js";import"./087AC4D233B64EB0index.46727ea4.js";import"./087AC4D233B64EB0index.25218fc3.js";import"./087AC4D233B64EB0token.9ae252be.js";import"./087AC4D233B64EB0strings.1dceca3e.js";import"./087AC4D233B64EB0use-dialog.2e6e6d78.js";const U={class:"flex gap-4 p-2"},q={class:"flex-none w-52 bg-white text-slate-700 dark:text-slate-400 dark:bg-slate-900 rounded p-4"},T={class:"flex justify-between items-center"},O=r("span",{class:"text font-bold"},"字典列表",-1),z=["onClick"],P={class:"max-w-[160px] truncate"},S={class:"min-w-[40px]"},F={class:"flex-1 bg-white text-slate-700 dark:text-slate-400 dark:bg-slate-900"},G={class:"flex justify-between items-center"},J={class:"text-lg"},K=Object.assign({name:"SysDictionary"},{__name:"sysDictionary",setup(K){const L=e(1),M=e({name:null,type:null,status:!0,desc:null}),Q=e({name:[{required:!0,message:"请输入字典名（中）",trigger:"blur"}],type:[{required:!0,message:"请输入字典名（英）",trigger:"blur"}],desc:[{required:!0,message:"请输入描述",trigger:"blur"}]}),R=e([]),H=async()=>{const e=await A();0===e.code&&(R.value=e.data)};H();const N=e(!1),W=e(""),X=()=>{N.value=!1,M.value={name:null,type:null,status:!0,desc:null}},Y=e(null),Z=async()=>{Y.value.validate((async e=>{if(!e)return;let a;switch(W.value){case"create":default:a=await w(M.value);break;case"update":a=await h(M.value)}0===a.code&&(v.success("操作成功"),X(),H())}))},$=()=>{W.value="create",Y.value&&Y.value.clearValidate(),N.value=!0};return(e,A)=>{const w=y,h=C,K=a("Delete"),ee=V,ae=j,te=E,le=x,se=f,re=I;return t(),l("div",null,[s(k,{title:"获取字典且缓存方法已在前端utils/dictionary 已经封装完成 不必自己书写 使用方法查看文件内注释"}),r("div",U,[r("div",q,[r("div",T,[O,s(w,{type:"primary",onClick:$},{default:i((()=>[o(" 新增 ")])),_:1})]),s(ee,{class:"mt-4",style:{height:"calc(100vh - 300px)"}},{default:i((()=>[(t(!0),l(u,null,n(R.value,(e=>(t(),l("div",{key:e.ID,class:d(["rounded flex justify-between items-center px-2 py-4 cursor-pointer mt-2 hover:bg-blue-50 dark:hover:bg-blue-900 bg-gray-50 dark:bg-gray-800 gap-4",L.value===e.ID?"text-active":"text-slate-700 dark:text-slate-50"]),onClick:a=>{return t=e,void(L.value=t.ID);var t}},[r("span",P,c(e.name),1),r("div",S,[s(h,{class:"text-blue-500",onClick:m((a=>(async e=>{const a=await b({ID:e.ID,status:e.status});W.value="update",0===a.code&&(M.value=a.data.resysDictionary,N.value=!0)})(e)),["stop"])},{default:i((()=>[s(p(B))])),_:2},1032,["onClick"]),s(h,{class:"ml-2 text-red-500",onClick:a=>(async e=>{D.confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{0===(await g({ID:e.ID})).code&&(v({type:"success",message:"删除成功"}),H())}))})(e)},{default:i((()=>[s(K)])),_:2},1032,["onClick"])])],10,z)))),128))])),_:1})]),r("div",F,[s(_,{"sys-dictionary-i-d":L.value},null,8,["sys-dictionary-i-d"])])]),s(re,{modelValue:N.value,"onUpdate:modelValue":A[4]||(A[4]=e=>N.value=e),size:"30%","show-close":!1,"before-close":X},{header:i((()=>[r("div",G,[r("span",J,c("create"===W.value?"添加字典":"修改字典"),1),r("div",null,[s(w,{onClick:X},{default:i((()=>[o(" 取 消 ")])),_:1}),s(w,{type:"primary",onClick:Z},{default:i((()=>[o(" 确 定 ")])),_:1})])])])),default:i((()=>[s(se,{ref_key:"drawerForm",ref:Y,model:M.value,rules:Q.value,"label-width":"110px"},{default:i((()=>[s(te,{label:"字典名（中）",prop:"name"},{default:i((()=>[s(ae,{modelValue:M.value.name,"onUpdate:modelValue":A[0]||(A[0]=e=>M.value.name=e),placeholder:"请输入字典名（中）",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),s(te,{label:"字典名（英）",prop:"type"},{default:i((()=>[s(ae,{modelValue:M.value.type,"onUpdate:modelValue":A[1]||(A[1]=e=>M.value.type=e),placeholder:"请输入字典名（英）",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),s(te,{label:"状态",prop:"status",required:""},{default:i((()=>[s(le,{modelValue:M.value.status,"onUpdate:modelValue":A[2]||(A[2]=e=>M.value.status=e),"active-text":"开启","inactive-text":"停用"},null,8,["modelValue"])])),_:1}),s(te,{label:"描述",prop:"desc"},{default:i((()=>[s(ae,{modelValue:M.value.desc,"onUpdate:modelValue":A[3]||(A[3]=e=>M.value.desc=e),placeholder:"请输入描述",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])])}}});export{K as default};
