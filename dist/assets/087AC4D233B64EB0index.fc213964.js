/*! 
 Build based on gin-vue-admin 
 Time : 1725432472000 */
import{_ as _export_sfc,u as useRouter,a as ref,o as openBlock,c as createElementBlock,b as createBaseVNode,d as createVNode,w as withCtx,g as createTextVNode,h as createBlock,t as toDisplayString,O as Fragment,P as renderList,e as createCommentVNode,j as ElMessage,l as ElInput,E as ElButton,p as pushScopeId,i as popScopeId}from"./087AC4D233B64EB0index.70d09b05.js";/* empty css                               *//* empty css                                *//* empty css                            *//* empty css                               *//* empty css                                  *//* empty css                               */import{E as ElCol,a as ElRow}from"./087AC4D233B64EB0col.8e8483c8.js";/* empty css                              */import{E as ElInputNumber}from"./087AC4D233B64EB0input-number.525084f9.js";/* empty css                                   */import{E as ElTableColumn,a as ElTable}from"./087AC4D233B64EB0table-column.87522e19.js";import"./087AC4D233B64EB0checkbox.946614c0.js";/* empty css                                */import{a as ElFormItem,E as ElForm}from"./087AC4D233B64EB0form-item.cbb99123.js";/* empty css                               */import{g as getTackList,u as updateTack,c as createTack}from"./087AC4D233B64EB0tack.f6fb0d39.js";import{E as ElPagination}from"./087AC4D233B64EB0index.7d3772ac.js";import{E as ElOption,a as ElSelect}from"./087AC4D233B64EB0index.46727ea4.js";import{E as ElDrawer}from"./087AC4D233B64EB0index.cf7c943f.js";import"./087AC4D233B64EB0index.9bcf7e3e.js";import"./087AC4D233B64EB0index.86c76e0e.js";import"./087AC4D233B64EB0index.c39333f3.js";import"./087AC4D233B64EB0index.a54c8ec8.js";import"./087AC4D233B64EB0_baseIteratee.bc07217d.js";import"./087AC4D233B64EB0_Uint8Array.b8c6af2c.js";import"./087AC4D233B64EB0isEqual.754d772a.js";import"./087AC4D233B64EB0debounce.034956aa.js";import"./087AC4D233B64EB0index.0adebf5a.js";import"./087AC4D233B64EB0_initCloneObject.073b420a.js";import"./087AC4D233B64EB0castArray.0e034210.js";import"./087AC4D233B64EB0_baseClone.a58dc1a4.js";import"./087AC4D233B64EB0index.25218fc3.js";import"./087AC4D233B64EB0token.9ae252be.js";import"./087AC4D233B64EB0strings.1dceca3e.js";import"./087AC4D233B64EB0use-dialog.2e6e6d78.js";const index_vue_vue_type_style_index_0_scoped_966d9bc8_lang="",_withScopeId=e=>(pushScopeId("data-v-966d9bc8"),e=e(),popScopeId(),e),_hoisted_1={class:"gva-search-box"},_hoisted_2={class:"gva-table-box"},_hoisted_3=_withScopeId((()=>createBaseVNode("div",{class:"gva-btn-list"},null,-1))),_hoisted_4={class:"gva-pagination"},_hoisted_5={class:"flex justify-between items-center"},_hoisted_6={class:"text-lg"},_hoisted_7=_withScopeId((()=>createBaseVNode("div",{style:{"padding-left":"40px",color:"black","font-size":"16px"}}," 模版 ",-1))),_hoisted_8=_withScopeId((()=>createBaseVNode("div",{style:{"padding-left":"40px",color:"black","font-size":"16px"}}," 奖励 ",-1))),_hoisted_9=_withScopeId((()=>createBaseVNode("div",{style:{"padding-left":"80px",color:"red","font-size":"12px"}}," 提示(复制)： [{type:109,value:12138,value2:1000}] ",-1))),_sfc_main=Object.assign({name:"rechargeReport"},{__name:"index",setup(__props){useRouter();const apis=ref([]),form=ref({id:"",before:0,desc:"",complete:{value:0,value2:0,limit:0},award:{code:"",num:0},unlock:"",tag:""});ref([{value:"POST",label:"创建",type:"success"},{value:"GET",label:"查看",type:""},{value:"PUT",label:"更新",type:"warning"},{value:"DELETE",label:"删除",type:"danger"}]);const type=ref(""),rules=ref({id:[{required:!0,message:"请输入id",trigger:"blur"}],desc:[{required:!0,message:"请输入desc",trigger:"blur"}],complete:[{required:!0,message:"请选择类型",trigger:"blur"}],award:[{required:!0,message:"请选择类型",trigger:"blur"}]}),page=ref(1),total=ref(0),pageSize=ref(10),tableData=ref([]),searchInfo=ref({}),completeOptions=ref([{label:101,value:101},{label:102,value:102},{label:103,value:103},{label:104,value:104},{label:105,value:105},{label:106,value:106},{label:107,value:107}]);ref(!1);const onReset=()=>{searchInfo.value={}},onSubmit=()=>{page.value=1,pageSize.value=10,getTableData()},handleSizeChange=e=>{pageSize.value=e,getTableData()},handleCurrentChange=e=>{page.value=e,getTableData()},getTableData=async()=>{const e=await getTackList({page:page.value,pageSize:pageSize.value,...searchInfo.value});0===e.code&&(tableData.value=e.data.list,total.value=e.data.total,page.value=e.data.page,pageSize.value=e.data.pageSize)};getTableData();const handleSelectionChange=e=>{apis.value=e};ref({newApis:[],deleteApis:[],ignoreApis:[]}),ref(!1);const apiForm=ref(null),initForm=()=>{apiForm.value.resetFields(),form.value={id:"",before:0,desc:"",complete:{value:0,value2:0,limit:0},award:{code:"",num:0},unlock:"",tag:""}},dialogTitle=ref("新增"),dialogFormVisible=ref(!1),closeDialog=()=>{initForm(),dialogFormVisible.value=!1};function strToJson(str){var json=eval("("+str+")");return json}const enterDialog=async()=>{apiForm.value.validate((async e=>{if(e)switch(form.value.complete=JSON.stringify([form.value.complete]),form.value.award=JSON.stringify([form.value.award]),""===form.value.unlock||null===form.value.unlock||0===form.value.unlock.length?form.value.unlock=[]:form.value.unlock=strToJson(form.value.unlock),form.value.unlock=JSON.stringify(form.value.unlock),type.value){case"add":form.value.id=Number(form.value.id);0===(await createTack(form.value)).code&&ElMessage({type:"success",message:"添加成功",showClose:!0}),getTableData(),closeDialog();break;case"edit":0===(await updateTack(form.value)).code&&ElMessage({type:"success",message:"编辑成功",showClose:!0}),getTableData(),closeDialog();break;default:ElMessage({type:"error",message:"未知操作",showClose:!0})}}))};return(e,a)=>{const l=ElInput,t=ElFormItem,o=ElButton,r=ElForm,d=ElTableColumn,i=ElTable,u=ElPagination,s=ElInputNumber,c=ElCol,n=ElRow,m=ElOption,p=ElSelect,f=ElDrawer;return openBlock(),createElementBlock("div",null,[createBaseVNode("div",_hoisted_1,[createVNode(r,{ref:"searchForm",inline:!0,model:searchInfo.value},{default:withCtx((()=>[createVNode(t,{label:"ID"},{default:withCtx((()=>[createVNode(l,{modelValue:searchInfo.value.id,"onUpdate:modelValue":a[0]||(a[0]=e=>searchInfo.value.id=e),placeholder:"ID"},null,8,["modelValue"])])),_:1}),createVNode(t,null,{default:withCtx((()=>[createVNode(o,{type:"primary",icon:"search",onClick:onSubmit},{default:withCtx((()=>[createTextVNode(" 查询 ")])),_:1}),createVNode(o,{icon:"refresh",onClick:onReset},{default:withCtx((()=>[createTextVNode(" 重置 ")])),_:1})])),_:1})])),_:1},8,["model"])]),createBaseVNode("div",_hoisted_2,[_hoisted_3,createVNode(i,{border:"",data:tableData.value,onSortChange:e.sortChange,onSelectionChange:handleSelectionChange},{default:withCtx((()=>[createVNode(d,{type:"selection",width:"60"}),createVNode(d,{align:"center",label:"充值金额","min-width":"150",prop:"desc"}),createVNode(d,{align:"center",label:"充值奖励金币","min-width":"170",prop:"before"}),createVNode(d,{align:"center",label:"充值奖励钻石","min-width":"200",prop:"before"}),createVNode(d,{align:"center",label:"累计充值","min-width":"150",prop:"before"}),createVNode(d,{align:"center",fixed:"right",label:"操作",width:"200"})])),_:1},8,["data","onSortChange"]),createBaseVNode("div",_hoisted_4,[createVNode(u,{"current-page":page.value,"page-size":pageSize.value,"page-sizes":[10,30,50,100],total:total.value,layout:"total, sizes, prev, pager, next, jumper",onCurrentChange:handleCurrentChange,onSizeChange:handleSizeChange},null,8,["current-page","page-size","total"])])]),dialogFormVisible.value?(openBlock(),createBlock(f,{key:0,modelValue:dialogFormVisible.value,"onUpdate:modelValue":a[13]||(a[13]=e=>dialogFormVisible.value=e),size:"60%","before-close":closeDialog,"show-close":!1},{header:withCtx((()=>[createBaseVNode("div",_hoisted_5,[createBaseVNode("span",_hoisted_6,toDisplayString(dialogTitle.value),1),createBaseVNode("div",null,[createVNode(o,{onClick:closeDialog},{default:withCtx((()=>[createTextVNode(" 取 消 ")])),_:1}),createVNode(o,{type:"primary",onClick:enterDialog},{default:withCtx((()=>[createTextVNode(" 确 定 ")])),_:1})])])])),default:withCtx((()=>[createVNode(r,{class:"myForm",ref_key:"apiForm",ref:apiForm,model:form.value,rules:rules.value,"label-width":"80px"},{default:withCtx((()=>[createVNode(t,{label:"ID",prop:"id"},{default:withCtx((()=>[createVNode(l,{modelValue:form.value.id,"onUpdate:modelValue":a[1]||(a[1]=e=>form.value.id=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),createVNode(n,{class:"w-full"},{default:withCtx((()=>[createVNode(c,{span:12},{default:withCtx((()=>[createVNode(t,{label:"before",prop:"before"},{default:withCtx((()=>[createVNode(s,{modelValue:form.value.before,"onUpdate:modelValue":a[2]||(a[2]=e=>form.value.before=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),createVNode(t,{label:"desc",prop:"desc"},{default:withCtx((()=>[createVNode(l,{modelValue:form.value.desc,"onUpdate:modelValue":a[3]||(a[3]=e=>form.value.desc=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),_hoisted_7,createVNode(n,{class:"w-full"},{default:withCtx((()=>[createVNode(c,{span:12},{default:withCtx((()=>[createVNode(t,{label:"type",prop:"complete"},{default:withCtx((()=>[createVNode(p,{modelValue:form.value.complete.type,"onUpdate:modelValue":a[4]||(a[4]=e=>form.value.complete.type=e),style:{width:"100%"},placeholder:"type"},{default:withCtx((()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(completeOptions.value,(e=>(openBlock(),createBlock(m,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),createVNode(c,{span:12},{default:withCtx((()=>[createVNode(t,{label:"value"},{default:withCtx((()=>[createVNode(s,{min:0,modelValue:form.value.complete.value,"onUpdate:modelValue":a[5]||(a[5]=e=>form.value.complete.value=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1}),createVNode(c,{span:12},{default:withCtx((()=>[createVNode(t,{label:"value2"},{default:withCtx((()=>[createVNode(s,{min:0,modelValue:form.value.complete.value2,"onUpdate:modelValue":a[6]||(a[6]=e=>form.value.complete.value2=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1}),createVNode(c,{span:12},{default:withCtx((()=>[createVNode(t,{label:"limit"},{default:withCtx((()=>[createVNode(s,{min:0,modelValue:form.value.complete.limit,"onUpdate:modelValue":a[7]||(a[7]=e=>form.value.complete.limit=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),_hoisted_8,createVNode(n,{class:"w-full"},{default:withCtx((()=>[createVNode(c,{span:12},{default:withCtx((()=>[createVNode(t,{label:"type",prop:"complete"},{default:withCtx((()=>[createVNode(p,{modelValue:form.value.award.type,"onUpdate:modelValue":a[8]||(a[8]=e=>form.value.award.type=e),style:{width:"100%"},placeholder:"type"},{default:withCtx((()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(completeOptions.value,(e=>(openBlock(),createBlock(m,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1}),createVNode(c,{span:12},{default:withCtx((()=>[createVNode(t,{label:"code"},{default:withCtx((()=>[createVNode(l,{min:0,modelValue:form.value.award.code,"onUpdate:modelValue":a[9]||(a[9]=e=>form.value.award.code=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1}),createVNode(c,{span:12},{default:withCtx((()=>[createVNode(t,{label:"num"},{default:withCtx((()=>[createVNode(s,{min:0,modelValue:form.value.award.num,"onUpdate:modelValue":a[10]||(a[10]=e=>form.value.award.num=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),_hoisted_9,createVNode(t,{label:"解锁",prop:"unlock"},{default:withCtx((()=>[createVNode(l,{modelValue:form.value.unlock,"onUpdate:modelValue":a[11]||(a[11]=e=>form.value.unlock=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),createVNode(t,{label:"标签",prop:"tag"},{default:withCtx((()=>[createVNode(l,{modelValue:form.value.tag,"onUpdate:modelValue":a[12]||(a[12]=e=>form.value.tag=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])):createCommentVNode("",!0)])}}}),index=_export_sfc(_sfc_main,[["__scopeId","data-v-966d9bc8"]]);export{index as default};
