/*! 
 Build based on gin-vue-admin 
 Time : 1725432472000 */
import{v as e,a,T as l,o as t,c as s,b as i,d as r,w as o,g as u,t as n,G as d,at as p,dy as c,au as m,j as D,E as y,l as v}from"./087AC4D233B64EB0index.70d09b05.js";/* empty css                               *//* empty css                                */import{a as B,E as f}from"./087AC4D233B64EB0form-item.cbb99123.js";/* empty css                              */import{E as b}from"./087AC4D233B64EB0input-number.525084f9.js";import{E as C}from"./087AC4D233B64EB0switch.4d3b2bd4.js";/* empty css                                   *//* empty css                            *//* empty css                               *//* empty css                                  *//* empty css                               */import{E as g,a as E}from"./087AC4D233B64EB0table-column.87522e19.js";import"./087AC4D233B64EB0checkbox.946614c0.js";/* empty css                                *//* empty css                               */import{E as j}from"./087AC4D233B64EB0index.7d3772ac.js";import{E as A}from"./087AC4D233B64EB0index.cf7c943f.js";import"./087AC4D233B64EB0castArray.0e034210.js";import"./087AC4D233B64EB0_baseClone.a58dc1a4.js";import"./087AC4D233B64EB0_Uint8Array.b8c6af2c.js";import"./087AC4D233B64EB0_initCloneObject.073b420a.js";import"./087AC4D233B64EB0index.9bcf7e3e.js";import"./087AC4D233B64EB0index.86c76e0e.js";import"./087AC4D233B64EB0index.c39333f3.js";import"./087AC4D233B64EB0index.a54c8ec8.js";import"./087AC4D233B64EB0_baseIteratee.bc07217d.js";import"./087AC4D233B64EB0isEqual.754d772a.js";import"./087AC4D233B64EB0debounce.034956aa.js";import"./087AC4D233B64EB0index.0adebf5a.js";import"./087AC4D233B64EB0index.46727ea4.js";import"./087AC4D233B64EB0index.25218fc3.js";import"./087AC4D233B64EB0token.9ae252be.js";import"./087AC4D233B64EB0strings.1dceca3e.js";import"./087AC4D233B64EB0use-dialog.2e6e6d78.js";const w=a=>e({url:"/sysDictionaryDetail/createSysDictionaryDetail",method:"post",data:a}),h={class:"gva-table-box"},x={class:"gva-btn-list justify-between"},_=i("span",{class:"text font-bold"},"字典详细内容",-1),V={class:"gva-pagination"},k={class:"flex justify-between items-center"},I={class:"text-lg"},S=Object.assign({name:"SysDictionaryDetail"},{__name:"sysDictionaryDetail",props:{sysDictionaryID:{type:Number,default:0}},setup(S){const z=S,U=a({label:null,value:null,status:!0,sort:null}),q=a({label:[{required:!0,message:"请输入展示值",trigger:"blur"}],value:[{required:!0,message:"请输入字典值",trigger:"blur"}],sort:[{required:!0,message:"排序标记",trigger:"blur"}]}),T=a(1),L=a(0),M=a(10),O=a([]),F=e=>{M.value=e,K()},G=e=>{T.value=e,K()},K=async()=>{const a=await(l={page:T.value,pageSize:M.value,sysDictionaryID:z.sysDictionaryID},e({url:"/sysDictionaryDetail/getSysDictionaryDetailList",method:"get",params:l}));var l;0===a.code&&(O.value=a.data.list,L.value=a.data.total,T.value=a.data.page,M.value=a.data.pageSize)};K();const N=a(""),P=a(!1),Q=async a=>{J.value&&J.value.clearValidate();const l=await(t={ID:a.ID},e({url:"/sysDictionaryDetail/findSysDictionaryDetail",method:"get",params:t}));var t;N.value="update",0===l.code&&(U.value=l.data.reSysDictionaryDetail,P.value=!0)},R=()=>{P.value=!1,U.value={label:null,value:null,status:!0,sort:null,sysDictionaryID:z.sysDictionaryID}},H=async a=>{m.confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{var l;0===(await(l={ID:a.ID},e({url:"/sysDictionaryDetail/deleteSysDictionaryDetail",method:"delete",data:l}))).code&&(D({type:"success",message:"删除成功"}),1===O.value.length&&T.value>1&&T.value--,K())}))},J=a(null),W=async()=>{J.value.validate((async a=>{if(U.value.sysDictionaryID=z.sysDictionaryID,!a)return;let l;switch(N.value){case"create":default:l=await w(U.value);break;case"update":l=await(t=U.value,e({url:"/sysDictionaryDetail/updateSysDictionaryDetail",method:"put",data:t}))}var t;0===l.code&&(D({type:"success",message:"创建/更改成功"}),R(),K())}))},X=()=>{N.value="create",J.value&&J.value.clearValidate(),P.value=!0};return l((()=>z.sysDictionaryID),(()=>{K()})),(e,a)=>{const l=y,m=g,D=E,w=j,S=v,z=B,K=C,Y=b,Z=f,$=A;return t(),s("div",null,[i("div",h,[i("div",x,[_,r(l,{type:"primary",icon:"plus",onClick:X},{default:o((()=>[u(" 新增字典项 ")])),_:1})]),r(D,{ref:"multipleTable",data:O.value,style:{width:"100%"},"tooltip-effect":"dark","row-key":"ID"},{default:o((()=>[r(m,{type:"selection",width:"55"}),r(m,{align:"left",label:"日期",width:"180"},{default:o((e=>[u(n(d(p)(e.row.CreatedAt)),1)])),_:1}),r(m,{align:"left",label:"展示值",prop:"label"}),r(m,{align:"left",label:"字典值",prop:"value"}),r(m,{align:"left",label:"扩展值",prop:"extend"}),r(m,{align:"left",label:"启用状态",prop:"status",width:"120"},{default:o((e=>[u(n(d(c)(e.row.status)),1)])),_:1}),r(m,{align:"left",label:"排序标记",prop:"sort",width:"120"}),r(m,{align:"left",label:"操作",width:"180"},{default:o((e=>[r(l,{type:"primary",link:"",icon:"edit",onClick:a=>Q(e.row)},{default:o((()=>[u(" 变更 ")])),_:2},1032,["onClick"]),r(l,{type:"primary",link:"",icon:"delete",onClick:a=>H(e.row)},{default:o((()=>[u(" 删除 ")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),i("div",V,[r(w,{"current-page":T.value,"page-size":M.value,"page-sizes":[10,30,50,100],total:L.value,layout:"total, sizes, prev, pager, next, jumper",onCurrentChange:G,onSizeChange:F},null,8,["current-page","page-size","total"])])]),r($,{modelValue:P.value,"onUpdate:modelValue":a[5]||(a[5]=e=>P.value=e),size:"30%","show-close":!1,"before-close":R},{header:o((()=>[i("div",k,[i("span",I,n("create"===N.value?"添加字典项":"修改字典项"),1),i("div",null,[r(l,{onClick:R},{default:o((()=>[u(" 取 消 ")])),_:1}),r(l,{type:"primary",onClick:W},{default:o((()=>[u(" 确 定 ")])),_:1})])])])),default:o((()=>[r(Z,{ref_key:"drawerForm",ref:J,model:U.value,rules:q.value,"label-width":"110px"},{default:o((()=>[r(z,{label:"展示值",prop:"label"},{default:o((()=>[r(S,{modelValue:U.value.label,"onUpdate:modelValue":a[0]||(a[0]=e=>U.value.label=e),placeholder:"请输入展示值",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),r(z,{label:"字典值",prop:"value"},{default:o((()=>[r(S,{modelValue:U.value.value,"onUpdate:modelValue":a[1]||(a[1]=e=>U.value.value=e),placeholder:"请输入字典值",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),r(z,{label:"扩展值",prop:"extend"},{default:o((()=>[r(S,{modelValue:U.value.extend,"onUpdate:modelValue":a[2]||(a[2]=e=>U.value.extend=e),placeholder:"请输入扩展值",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),r(z,{label:"启用状态",prop:"status",required:""},{default:o((()=>[r(K,{modelValue:U.value.status,"onUpdate:modelValue":a[3]||(a[3]=e=>U.value.status=e),"active-text":"开启","inactive-text":"停用"},null,8,["modelValue"])])),_:1}),r(z,{label:"排序标记",prop:"sort"},{default:o((()=>[r(Y,{modelValue:U.value.sort,"onUpdate:modelValue":a[4]||(a[4]=e=>U.value.sort=e),modelModifiers:{number:!0},placeholder:"排序标记"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])])}}});export{S as default};
