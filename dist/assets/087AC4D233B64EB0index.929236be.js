/*! 
 Build based on gin-vue-admin 
 Time : 1725432472000 */
import{_ as e,u as a,a as l,o as s,c as t,b as o,d as i,w as r,g as d,h as n,t as u,e as c,j as p,au as m,l as B,E as v}from"./087AC4D233B64EB0index.70d09b05.js";/* empty css                               *//* empty css                                *//* empty css                                   *//* empty css                            *//* empty css                               *//* empty css                                  *//* empty css                               */import{E as C,a as g}from"./087AC4D233B64EB0table-column.87522e19.js";import"./087AC4D233B64EB0checkbox.946614c0.js";/* empty css                                */import{a as f,E as j}from"./087AC4D233B64EB0form-item.cbb99123.js";/* empty css                               *//* empty css                              */import{v as E,e as A,f as y,h as b}from"./087AC4D233B64EB0tack.f6fb0d39.js";import{E as D}from"./087AC4D233B64EB0index.7d3772ac.js";import{E as h}from"./087AC4D233B64EB0index.cf7c943f.js";import"./087AC4D233B64EB0index.86c76e0e.js";import"./087AC4D233B64EB0index.c39333f3.js";import"./087AC4D233B64EB0index.a54c8ec8.js";import"./087AC4D233B64EB0_baseIteratee.bc07217d.js";import"./087AC4D233B64EB0_Uint8Array.b8c6af2c.js";import"./087AC4D233B64EB0isEqual.754d772a.js";import"./087AC4D233B64EB0debounce.034956aa.js";import"./087AC4D233B64EB0index.0adebf5a.js";import"./087AC4D233B64EB0_initCloneObject.073b420a.js";import"./087AC4D233B64EB0castArray.0e034210.js";import"./087AC4D233B64EB0_baseClone.a58dc1a4.js";import"./087AC4D233B64EB0index.46727ea4.js";import"./087AC4D233B64EB0index.25218fc3.js";import"./087AC4D233B64EB0token.9ae252be.js";import"./087AC4D233B64EB0strings.1dceca3e.js";import"./087AC4D233B64EB0use-dialog.2e6e6d78.js";const _={class:"gva-search-box"},w={class:"gva-table-box"},x={class:"gva-btn-list"},k={class:"gva-pagination"},V={class:"flex justify-between items-center"},z={class:"text-lg"},S=e(Object.assign({name:"goodsConfiguration"},{__name:"index",setup(e){a();const S=l([]),U=l({code:"",desc:""}),q=l(""),F=l({code:[{required:!0,message:"请输入code",trigger:"blur"}],desc:[{required:!0,message:"请输入desc",trigger:"blur"}]}),O=l(1),T=l(0),I=l(10),J=l([]),N=l({}),K=()=>{N.value={}},L=()=>{O.value=1,I.value=10,Q()},M=e=>{I.value=e,Q()},P=e=>{O.value=e,Q()},Q=async()=>{const e=await E({page:O.value,pageSize:I.value,...N.value});0===e.code&&(J.value=e.data.list,T.value=e.data.total,O.value=e.data.page,I.value=e.data.pageSize)};Q();const R=e=>{S.value=e};l({newApis:[],deleteApis:[],ignoreApis:[]});const G=l(null),H=l("新增"),W=l(!1),X=e=>{switch(e){case"add":H.value="新增";break;case"edit":H.value="编辑"}q.value=e,W.value=!0},Y=()=>{G.value.resetFields(),U.value={code:"",desc:""},W.value=!1},Z=async()=>{G.value.validate((async e=>{if(e)switch(q.value){case"add":0===(await y(U.value)).code&&p({type:"success",message:"添加成功",showClose:!0}),Q(),Y();break;case"edit":0===(await A(U.value)).code&&p({type:"success",message:"编辑成功",showClose:!0}),Q(),Y();break;default:p({type:"error",message:"未知操作",showClose:!0})}}))};return(e,a)=>{const l=B,E=f,A=v,y=j,S=C,$=g,ee=D,ae=h;return s(),t("div",null,[o("div",_,[i(y,{ref:"searchForm",inline:!0,model:N.value},{default:r((()=>[i(E,{label:"code"},{default:r((()=>[i(l,{modelValue:N.value.key,"onUpdate:modelValue":a[0]||(a[0]=e=>N.value.key=e),placeholder:"code"},null,8,["modelValue"])])),_:1}),i(E,null,{default:r((()=>[i(A,{type:"primary",icon:"search",onClick:L},{default:r((()=>[d(" 查询 ")])),_:1}),i(A,{icon:"refresh",onClick:K},{default:r((()=>[d(" 重置 ")])),_:1})])),_:1})])),_:1},8,["model"])]),o("div",w,[o("div",x,[i(A,{type:"primary",icon:"plus",onClick:a[1]||(a[1]=e=>X("add"))},{default:r((()=>[d(" 新增 ")])),_:1})]),i($,{border:"",data:J.value,onSortChange:e.sortChange,onSelectionChange:R},{default:r((()=>[i(S,{type:"selection",width:"60"}),i(S,{align:"center",label:"code","min-width":"150",prop:"code"}),i(S,{align:"center",label:"desc","min-width":"170",prop:"desc"}),i(S,{align:"center",label:"创建时间","min-width":"200",prop:"created"}),i(S,{align:"center",fixed:"right",label:"操作",width:"200"},{default:r((e=>[i(A,{icon:"edit",type:"primary",link:"",onClick:a=>(async e=>{let a=JSON.parse(JSON.stringify(e));U.value=a,X("edit")})(e.row)},{default:r((()=>[d(" 编辑 ")])),_:2},1032,["onClick"]),i(A,{icon:"delete",type:"primary",link:"",onClick:a=>(async e=>{m.confirm("此操作将永久删除任务, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{0===(await b({code:e.code})).code&&(p({type:"success",message:"删除成功!"}),Q())}))})(e.row)},{default:r((()=>[d(" 删除 ")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","onSortChange"]),o("div",k,[i(ee,{"current-page":O.value,"page-size":I.value,"page-sizes":[10,30,50,100],total:T.value,layout:"total, sizes, prev, pager, next, jumper",onCurrentChange:P,onSizeChange:M},null,8,["current-page","page-size","total"])])]),W.value?(s(),n(ae,{key:0,modelValue:W.value,"onUpdate:modelValue":a[4]||(a[4]=e=>W.value=e),size:"60%","before-close":Y,"show-close":!1},{header:r((()=>[o("div",V,[o("span",z,u(H.value),1),o("div",null,[i(A,{onClick:Y},{default:r((()=>[d(" 取 消 ")])),_:1}),i(A,{type:"primary",onClick:Z},{default:r((()=>[d(" 确 定 ")])),_:1})])])])),default:r((()=>[i(y,{class:"myForm",ref_key:"apiForm",ref:G,model:U.value,rules:F.value,"label-width":"80px"},{default:r((()=>[i(E,{label:"code",prop:"code"},{default:r((()=>[i(l,{modelValue:U.value.code,"onUpdate:modelValue":a[2]||(a[2]=e=>U.value.code=e),disabled:"edit"===q.value,autocomplete:"off"},null,8,["modelValue","disabled"])])),_:1}),i(E,{label:"desc",prop:"desc"},{default:r((()=>[i(l,{modelValue:U.value.desc,"onUpdate:modelValue":a[3]||(a[3]=e=>U.value.desc=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])):c("",!0)])}}}),[["__scopeId","data-v-84a381b2"]]);export{S as default};
