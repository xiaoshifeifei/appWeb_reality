/*! 
 Build based on gin-vue-admin 
 Time : 1725432472000 */
System.register(["./087AC4D233B64EB0index-legacy.60a78b40.js","./087AC4D233B64EB0upload-legacy.7540ab71.js","./087AC4D233B64EB0progress-legacy.6334c178.js","./087AC4D233B64EB0button-legacy.fa07c5be.js","./087AC4D233B64EB0image-legacy.977e7a49.js","./087AC4D233B64EB0image.vue_vue_type_style_index_0_scoped_2dbbcee1_lang-legacy.4e3baee2.js","./087AC4D233B64EB0index-legacy.91baab2c.js"],(function(e,n){"use strict";var t,a,o,l,r,u,i,s,c,d,p,f,m,g,v,y;return{setters:[function(e){t=e.v,a=e._,o=e.o,l=e.c,r=e.d,u=e.w,i=e.g,s=e.G,c=e.cE,d=e.j,p=e.E,f=e.a},null,null,null,function(e){m=e.I,g=e.i,v=e.a},null,function(e){y=e.E}],execute:function(){e("g",(function(e){return t({url:"/fileUploadAndDownload/getFileList",method:"post",data:e})})),e("d",(function(e){return t({url:"/fileUploadAndDownload/deleteFile",method:"post",data:e})})),e("e",(function(e){return t({url:"/fileUploadAndDownload/editFileName",method:"post",data:e})})),e("U",a(Object.assign({name:"UploadImage"},{__name:"image",props:{imageUrl:{type:String,default:""},fileSize:{type:Number,default:2048},maxWH:{type:Number,default:1920}},emits:["on-success"],setup:function(e,n){var t=n.emit,a=e,f=function(e){var n="image/jpeg"===e.type,t="image/png"===e.type;if(!n&&!t)return d.error("上传头像图片只能是 jpg或png 格式!"),!1;var o=e.size/1024<a.fileSize;return o||new m(e,a.fileSize,a.maxWH).compress()},g=function(e){var n=e.data;n.file&&t("on-success",n.file.url)};return function(e,n){var t=p,a=y;return o(),l("div",null,[r(a,{action:"".concat(s(c)(),"/fileUploadAndDownload/upload"),"show-file-list":!1,"on-success":g,"before-upload":f,multiple:!1},{default:u((function(){return[r(t,{type:"primary"},{default:u((function(){return[i("压缩上传")]})),_:1})]})),_:1},8,["action"])])}}}),[["__scopeId","data-v-2dbbcee1"]])),e("_",Object.assign({name:"UploadCommon"},{__name:"common",emits:["on-success"],setup:function(e,n){var t=n.emit;f("/api");var a=f(!1),m=function(e){a.value=!0;var n=e.size/1024/1024<.5,t=e.size/1024/1024<5,o=g(e.type),l=v(e.type),r=!0;return o||l||(d.error("上传图片只能是 jpg,png,svg,webp 格式, 上传视频只能是 mp4,webm 格式!"),a.value=!1,r=!1),!t&&o&&(d.error("上传视频大小不能超过 5MB"),a.value=!1,r=!1),!n&&l&&(d.error("未压缩的上传图片大小不能超过 500KB，请使用压缩上传"),a.value=!1,r=!1),console.log("upload file check result: ",r),r},_=function(e){var n=e.data;n.file&&t("on-success",n.file.url)},B=function(){d({type:"error",message:"上传失败"}),a.value=!1};return function(e,n){var t=p,a=y;return o(),l("div",null,[r(a,{action:"".concat(s(c)(),"/fileUploadAndDownload/upload"),"before-upload":m,"on-error":B,"on-success":_,"show-file-list":!1,class:"upload-btn"},{default:u((function(){return[r(t,{type:"primary"},{default:u((function(){return[i("普通上传")]})),_:1})]})),_:1},8,["action"])])}}}))}}}));
