/*! 
 Build based on gin-vue-admin 
 Time : 1725432472000 */
import{cP as e,u as a,a as l,r as t,o as s,c as o,b as r,d as i,w as u,O as n,P as m,h as p,g as d,j as B,l as c,E as D}from"./087AC4D233B64EB0index.70d09b05.js";import{a as j,E as C}from"./087AC4D233B64EB0form-item.cbb99123.js";/* empty css                               *//* empty css                            *//* empty css                               *//* empty css                                  *//* empty css                               *//* empty css                              */import{_ as E,a as A,g as v,f,c as b,u as y}from"./087AC4D233B64EB0rich-edit.d40e506e.js";import{E as _,a as h}from"./087AC4D233B64EB0index.46727ea4.js";import"./087AC4D233B64EB0castArray.0e034210.js";import"./087AC4D233B64EB0_baseClone.a58dc1a4.js";import"./087AC4D233B64EB0_Uint8Array.b8c6af2c.js";import"./087AC4D233B64EB0_initCloneObject.073b420a.js";/* empty css                               *//* empty css                                 */import"./087AC4D233B64EB0index.e10cda1e.js";import"./087AC4D233B64EB0index.71ec1ce3.js";import"./087AC4D233B64EB0cloneDeep.17c0bdec.js";import"./087AC4D233B64EB0isEqual.754d772a.js";import"./087AC4D233B64EB0image.381f4010.js";import"./087AC4D233B64EB0index.c39333f3.js";import"./087AC4D233B64EB0index.a54c8ec8.js";import"./087AC4D233B64EB0index.86c76e0e.js";import"./087AC4D233B64EB0index.25218fc3.js";import"./087AC4D233B64EB0token.9ae252be.js";import"./087AC4D233B64EB0strings.1dceca3e.js";import"./087AC4D233B64EB0debounce.034956aa.js";import"./087AC4D233B64EB0_baseIteratee.bc07217d.js";import"./087AC4D233B64EB0index.0adebf5a.js";const x={class:"gva-form-box"},g=Object.assign({name:"InfoForm"},{__name:"info",setup(g){const V=e(),w=a(),I=l(""),k=l({title:"",content:"",userID:void 0,attachments:[]}),U=t({}),q=l(),O=l([]);(async()=>{const e=await v();0===e.code&&(O.value=e.data)})();(async()=>{if(V.query.id){const e=await f({ID:V.query.id});0===e.code&&(k.value=e.data,I.value="update")}else I.value="create"})();const F=async()=>{var e;null==(e=q.value)||e.validate((async e=>{if(!e)return;let a;switch(I.value){case"create":default:a=await b(k.value);break;case"update":a=await y(k.value)}0===a.code&&B({type:"success",message:"创建/更改成功"})}))},P=()=>{w.go(-1)};return(e,a)=>{const l=c,t=j,B=_,v=h,f=D,b=C;return s(),o("div",null,[r("div",x,[i(b,{model:k.value,ref_key:"elFormRef",ref:q,"label-position":"right",rules:U,"label-width":"80px"},{default:u((()=>[i(t,{label:"标题:",prop:"title"},{default:u((()=>[i(l,{modelValue:k.value.title,"onUpdate:modelValue":a[0]||(a[0]=e=>k.value.title=e),clearable:!0,placeholder:"请输入标题"},null,8,["modelValue"])])),_:1}),i(t,{label:"内容:",prop:"content"},{default:u((()=>[i(E,{modelValue:k.value.content,"onUpdate:modelValue":a[1]||(a[1]=e=>k.value.content=e)},null,8,["modelValue"])])),_:1}),i(t,{label:"作者:",prop:"userID"},{default:u((()=>[i(v,{modelValue:k.value.userID,"onUpdate:modelValue":a[2]||(a[2]=e=>k.value.userID=e),placeholder:"请选择作者",style:{width:"100%"},clearable:!0},{default:u((()=>[(s(!0),o(n,null,m(O.value.userID,((e,a)=>(s(),p(B,{key:a,label:e.label,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),i(t,{label:"附件:",prop:"attachments"},{default:u((()=>[i(A,{modelValue:k.value.attachments,"onUpdate:modelValue":a[3]||(a[3]=e=>k.value.attachments=e)},null,8,["modelValue"])])),_:1}),i(t,null,{default:u((()=>[i(f,{type:"primary",onClick:F},{default:u((()=>[d("保存")])),_:1}),i(f,{type:"primary",onClick:P},{default:u((()=>[d("返回")])),_:1})])),_:1})])),_:1},8,["model","rules"])])])}}});export{g as default};
